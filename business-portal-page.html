<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title data-translate-key="pageTitle">
      Cổng Thông Tin Doanh Nghiệp - BảoHiểmPRO
    </title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #f3f4f6; /* Gray 100 */
      }

      .sidebar-link {
        display: flex;
        align-items: center;
        padding: 0.75rem 1rem; /* py-3 px-4 */
        border-radius: 0.375rem; /* rounded-md */
        color: #4b5563; /* Gray 600 */
        transition: background-color 0.2s ease, color 0.2s ease;
      }

      .sidebar-link:hover {
        background-color: #e5e7eb; /* Gray 200 */
        color: #1f2937; /* Gray 800 */
      }

      .sidebar-link.active {
        background-color: #059669; /* Emerald 600 - Business theme color */
        color: white;
        font-weight: 500; /* medium */
      }
      .sidebar-link.active i {
        color: white;
      }

      .sidebar-link i {
        margin-right: 0.75rem; /* mr-3 */
        width: 1.25rem; /* w-5 */
        text-align: center;
        color: #6b7280; /* Gray 500 */
      }
      .content-section {
        display: none;
      }
      .content-section.active {
        display: block;
      }
      .card {
        background-color: white;
        border-radius: 0.75rem; /* rounded-xl */
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06);
        padding: 1.5rem; /* p-6 */
      }
      .table th,
      .table td {
        padding: 0.75rem 1rem; /* py-3 px-4 */
        border-bottom: 1px solid #e5e7eb; /* border-gray-200 */
        text-align: left;
        font-size: 0.875rem; /* text-sm */
      }
      .table th {
        background-color: #f9fafb; /* Gray 50 */
        font-weight: 600; /* semibold */
        color: #374151; /* Gray 700 */
      }
      .status-active {
        background-color: #dcfce7; /* Green 100 */
        color: #166534; /* Green 800 */
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem; /* text-xs */
        font-weight: 500;
        display: inline-block;
      }
      .status-pending-approval {
        background-color: #ffedd5; /* Orange 100 */
        color: #9a3412; /* Orange 800 */
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        display: inline-block;
      }
      .status-paid {
        background-color: #dbeafe; /* Blue 100 */
        color: #1e40af; /* Blue 800 */
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        display: inline-block;
      }
      .status-overdue {
        background-color: #fee2e2; /* Red 100 */
        color: #991b1b; /* Red 800 */
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        display: inline-block;
      }
      .status-cancelled {
        background-color: #e5e7eb; /* Gray 200 */
        color: #4b5563; /* Gray 600 */
        padding: 0.25rem 0.75rem;
        border-radius: 9999px;
        font-size: 0.75rem;
        font-weight: 500;
        display: inline-block;
      }
      .btn {
        padding: 0.625rem 1.25rem; /* py-2.5 px-5 */
        border-radius: 0.5rem; /* rounded-lg */
        font-weight: 500; /* medium */
        transition: background-color 0.3s ease, transform 0.2s ease;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      .btn:hover {
        transform: translateY(-1px);
      }
      .btn-primary {
        background-color: #059669; /* Emerald 600 */
        color: white;
      }
      .btn-primary:hover {
        background-color: #047857; /* Emerald 700 */
      }
      .btn-secondary {
        background-color: #4f46e5; /* Indigo 600 */
        color: white;
      }
      .btn-secondary:hover {
        background-color: #4338ca; /* Indigo 700 */
      }
      .btn-outline {
        background-color: transparent;
        color: #059669;
        border: 1px solid #059669;
      }
      .btn-outline:hover {
        background-color: #d1fae5; /* Emerald 100 */
      }
      .btn-sm {
        padding: 0.375rem 0.75rem; /* py-1.5 px-3 */
        font-size: 0.75rem; /* text-xs */
      }
      .form-input,
      .form-select,
      .form-textarea {
        width: 100%;
        padding: 0.75rem;
        border-radius: 0.375rem; /* rounded-md */
        border: 1px solid #d1d5db; /* Gray 300 */
        margin-bottom: 1rem;
        transition: border-color 0.3s ease, box-shadow 0.3s ease;
      }
      .form-input:focus,
      .form-select:focus,
      .form-textarea:focus {
        border-color: #059669; /* Emerald 600 */
        box-shadow: 0 0 0 2px rgba(5, 150, 105, 0.25);
        outline: none;
      }
      .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 500;
        color: #374151; /* Gray 700 */
      }
      .notification-dot {
        height: 0.5rem;
        width: 0.5rem;
        background-color: #ef4444; /* Red 500 */
        border-radius: 9999px;
        position: absolute;
        top: 0.5rem;
        right: 0.5rem;
      }
      .table-container {
        max-height: 400px;
        overflow-y: auto;
      }
      .language-switcher button.active-lang {
        font-weight: bold;
        background-color: #d1fae5; /* Emerald 100 for active language */
        color: #065f46; /* Emerald 700 for active language text */
      }
      .language-switcher button:not(.active-lang):hover {
        background-color: #f0fdf4; /* Emerald 50 for hover */
      }
    </style>
  </head>

  <body class="text-gray-800">
    <header class="bg-white shadow-md sticky top-0 z-40">
      <div
        class="container mx-auto px-6 py-3 flex justify-between items-center"
      >
        <a href="index.html" class="text-2xl font-bold text-emerald-600">
          <img
            src="https://placehold.co/160x50/059669/ffffff?text=BảoHiểmPRO+SME"
            alt="Logo BảoHiểmPRO Doanh Nghiệp"
            class="h-10"
            data-translate-alt-key="altLogoSME"
          />
        </a>
        <div class="flex items-center space-x-4">
          <div class="language-switcher flex items-center space-x-1">
            <button
              data-lang="vi"
              class="lang-switcher-btn px-2 py-1 text-xs rounded-md focus:outline-none"
            >
              VIE
            </button>
            <span class="text-xs text-gray-400">|</span>
            <button
              data-lang="en"
              class="lang-switcher-btn px-2 py-1 text-xs rounded-md focus:outline-none"
            >
              ENG
            </button>
          </div>
          <button
            id="notificationsBtn"
            class="relative text-gray-600 hover:text-emerald-600 focus:outline-none"
          >
            <i class="fas fa-bell fa-lg"></i>
            <span class="notification-dot"></span>
          </button>
          <div class="relative">
            <button
              id="userMenuButton"
              class="flex items-center space-x-2 focus:outline-none"
            >
              <img
                src="https://placehold.co/40x40/10b981/ffffff?text=DN"
                alt="Business Avatar"
                data-translate-alt-key="altBusinessAvatar"
                class="w-8 h-8 rounded-full"
              />
              <span
                class="hidden md:inline text-sm font-medium text-gray-700"
                id="headerCompanyName"
                data-translate-key="headerCompanyNameText"
                >Công Ty TNHH Phát Triển ABC</span
              >
              <i class="fas fa-chevron-down text-xs text-gray-500"></i>
            </button>
            <div
              id="userMenuDropdown"
              class="absolute right-0 mt-2 w-56 bg-white rounded-md shadow-xl z-50 hidden"
            >
              <a
                href="#companyProfile"
                data-target="companyProfile"
                class="sidebar-link block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                data-translate-key="linkCompanyProfile"
                ><i class="fas fa-building"></i>Hồ Sơ Công Ty</a
              >
              <a
                href="#userManagement"
                data-target="userManagement"
                class="sidebar-link block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                data-translate-key="linkUserManagement"
                ><i class="fas fa-users-cog"></i>Quản Lý Người Dùng</a
              >
              <a
                href="#portalSettings"
                data-target="portalSettings"
                class="sidebar-link block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100"
                data-translate-key="linkPortalSettings"
                ><i class="fas fa-sliders-h"></i>Cài Đặt Portal</a
              >
              <a
                href="#"
                id="logoutButton"
                class="block px-4 py-2 text-sm text-red-600 hover:bg-gray-100"
                data-translate-key="linkLogout"
                ><i class="fas fa-sign-out-alt"></i>Đăng Xuất</a
              >
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="container mx-auto px-4 md:px-6 py-8">
      <div class="md:flex md:space-x-6">
        <aside class="md:w-1/4 lg:w-1/5 mb-8 md:mb-0">
          <div class="bg-white p-4 rounded-xl shadow-lg">
            <nav id="sidebarNav" class="space-y-1">
              <a
                href="#dashboardSME"
                data-target="dashboardSME"
                class="sidebar-link active"
                data-translate-key="sidebarOverview"
                ><i class="fas fa-chart-line"></i>Tổng Quan</a
              >
              <a
                href="#companyPolicies"
                data-target="companyPolicies"
                class="sidebar-link"
                data-translate-key="sidebarCompanyPolicies"
                ><i class="fas fa-file-signature"></i>Hợp Đồng Công Ty</a
              >
              <a
                href="#employeeManagement"
                data-target="employeeManagement"
                class="sidebar-link"
                data-translate-key="sidebarEmployeeManagement"
                ><i class="fas fa-users"></i>Quản Lý Nhân Viên</a
              >
              <a
                href="#companyClaims"
                data-target="companyClaims"
                class="sidebar-link"
                data-translate-key="sidebarCompanyClaims"
                ><i class="fas fa-medkit"></i>Yêu Cầu Bồi Thường</a
              >
              <a
                href="#billingInvoices"
                data-target="billingInvoices"
                class="sidebar-link"
                data-translate-key="sidebarBillingInvoices"
                ><i class="fas fa-file-invoice-dollar"></i>Thanh Toán & Hóa
                Đơn</a
              >
              <a
                href="#reportsAnalytics"
                data-target="reportsAnalytics"
                class="sidebar-link"
                data-translate-key="sidebarReportsAnalytics"
                ><i class="fas fa-chart-pie"></i>Báo Cáo & Phân Tích</a
              >
              <a
                href="#companyDocuments"
                data-target="companyDocuments"
                class="sidebar-link"
                data-translate-key="sidebarCompanyDocuments"
                ><i class="fas fa-folder"></i>Tài Liệu Công Ty</a
              >
              <a
                href="#approvalWorkflows"
                data-target="approvalWorkflows"
                class="sidebar-link"
                data-translate-key="sidebarApprovalWorkflows"
                ><i class="fas fa-tasks"></i>Luồng Phê Duyệt</a
              >
              <a
                href="#smeSupport"
                data-target="smeSupport"
                class="sidebar-link relative"
                data-translate-key="sidebarSMESupport"
                ><i class="fas fa-headset"></i>Hỗ Trợ Doanh Nghiệp
                <span
                  class="absolute top-1 right-1 text-xs bg-red-500 text-white rounded-full px-1.5 py-0.5"
                  >1</span
                ></a
              >
            </nav>
          </div>
        </aside>

        <main class="md:w-3/4 lg:w-4/5">
          <section id="dashboardSME" class="content-section active card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="dashboardTitleSME"
            >
              Tổng Quan Hoạt Động Doanh Nghiệp
            </h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
              <div
                class="bg-emerald-50 p-4 rounded-lg shadow hover:shadow-md transition-shadow"
              >
                <h3
                  class="text-sm font-medium text-emerald-700 mb-1"
                  data-translate-key="dashboardTotalPolicies"
                >
                  Tổng Số Hợp Đồng
                </h3>
                <p class="text-3xl font-bold text-emerald-800">5</p>
              </div>
              <div
                class="bg-sky-50 p-4 rounded-lg shadow hover:shadow-md transition-shadow"
              >
                <h3
                  class="text-sm font-medium text-sky-700 mb-1"
                  data-translate-key="dashboardInsuredEmployees"
                >
                  Nhân Viên Được Bảo Hiểm
                </h3>
                <p class="text-3xl font-bold text-sky-800">45</p>
              </div>
              <div
                class="bg-amber-50 p-4 rounded-lg shadow hover:shadow-md transition-shadow"
              >
                <h3
                  class="text-sm font-medium text-amber-700 mb-1"
                  data-translate-key="dashboardUnpaidInvoices"
                >
                  Hóa Đơn Chưa Thanh Toán
                </h3>
                <p class="text-3xl font-bold text-amber-800">2</p>
                <p class="text-xs text-amber-600">
                  <span data-translate-key="textTotalAmount">Tổng</span>:
                  25,000,000 VNĐ
                </p>
              </div>
              <div
                class="bg-rose-50 p-4 rounded-lg shadow hover:shadow-md transition-shadow"
              >
                <h3
                  class="text-sm font-medium text-rose-700 mb-1"
                  data-translate-key="dashboardPendingClaims"
                >
                  Yêu Cầu Đang Chờ
                </h3>
                <p class="text-3xl font-bold text-rose-800">3</p>
              </div>
            </div>
            <div class="grid md:grid-cols-2 gap-6">
              <div class="card !p-0 !shadow-none border">
                <h3
                  class="text-lg font-semibold text-gray-700 mb-1 p-4 border-b"
                  data-translate-key="chartMonthlyPremiumTitle"
                >
                  Chi Phí Bảo Hiểm Hàng Tháng (6 tháng gần nhất)
                </h3>
                <div class="p-4">
                  <canvas id="monthlyPremiumChart"></canvas>
                </div>
              </div>
              <div class="card !shadow-none border">
                <h3
                  class="text-lg font-semibold text-gray-700 mb-3"
                  data-translate-key="dashboardRecentNotices"
                >
                  Thông Báo & Cảnh Báo
                </h3>
                <ul class="space-y-3 max-h-60 overflow-y-auto">
                  <li
                    class="flex items-start text-sm p-2 bg-yellow-50 rounded-md"
                  >
                    <i
                      class="fas fa-exclamation-triangle text-yellow-500 mt-1 mr-3"
                    ></i>
                    <span data-translate-key="noticePolicyExpiry"
                      >Hợp đồng
                      <a
                        href="#companyPolicies"
                        data-target="companyPolicies"
                        class="text-emerald-600 hover:underline sidebar-nav-trigger"
                        >BHTS-DN-002</a
                      >
                      sẽ hết hạn trong 30 ngày. Cần gia hạn.</span
                    >
                  </li>
                  <li class="flex items-start text-sm p-2">
                    <i
                      class="fas fa-file-invoice-dollar text-orange-500 mt-1 mr-3"
                    ></i>
                    <span data-translate-key="noticeInvoiceDue"
                      >Hóa đơn
                      <a
                        href="#billingInvoices"
                        data-target="billingInvoices"
                        class="text-emerald-600 hover:underline sidebar-nav-trigger"
                        >INV-2024-0012</a
                      >
                      (15,000,000 VNĐ) sắp đến hạn vào 25/05/2025.</span
                    >
                  </li>
                  <li class="flex items-start text-sm p-2">
                    <i class="fas fa-user-plus text-blue-500 mt-1 mr-3"></i>
                    <span data-translate-key="noticeNewEmployeesAdded"
                      >5 nhân viên mới đã được thêm vào hợp đồng bảo hiểm sức
                      khỏe nhóm
                      <a
                        href="#companyPolicies"
                        data-target="companyPolicies"
                        class="text-emerald-600 hover:underline sidebar-nav-trigger"
                        >BHSKN-001</a
                      >.</span
                    >
                  </li>
                  <li class="flex items-start text-sm p-2 bg-red-50 rounded-md">
                    <i class="fas fa-medkit text-red-500 mt-1 mr-3"></i>
                    <span data-translate-key="noticeClaimPendingApproval"
                      >Yêu cầu bồi thường
                      <a
                        href="#companyClaims"
                        data-target="companyClaims"
                        class="text-emerald-600 hover:underline sidebar-nav-trigger"
                        >YC-DN-005</a
                      >
                      cho nhân viên Nguyễn Thị C đang chờ phê duyệt của
                      bạn.</span
                    >
                  </li>
                </ul>
              </div>
            </div>
          </section>

          <section id="companyPolicies" class="content-section card">
            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
              <h2
                class="text-2xl font-semibold text-gray-800"
                data-translate-key="titleManageCompanyPolicies"
              >
                Quản Lý Hợp Đồng Công Ty
              </h2>
              <div>
                <button class="btn btn-outline btn-sm mr-2">
                  <i class="fas fa-filter mr-1"></i
                  ><span data-translate-key="btnFilter">Lọc</span>
                </button>
                <button class="btn btn-primary btn-sm">
                  <i class="fas fa-plus mr-1"></i
                  ><span data-translate-key="btnAddNewGuideline"
                    >Thêm Hợp Đồng Mới</span
                  >
                </button>
              </div>
            </div>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th><input type="checkbox" class="form-checkbox-all" /></th>
                    <th data-translate-key="tablePolicyNo">Số Hợp Đồng</th>
                    <th data-translate-key="tablePolicyType">Loại Hình</th>
                    <th data-translate-key="tableEffectiveDate">
                      Ngày Hiệu Lực
                    </th>
                    <th data-translate-key="tableRenewalDate">Ngày Tái Tục</th>
                    <th data-translate-key="tableAnnualFee">Phí Hàng Năm</th>
                    <th data-translate-key="tableNoOfSubjects">
                      Số Lượng Đối Tượng
                    </th>
                    <th data-translate-key="tableStatus">Trạng Thái</th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="form-checkbox-item"
                        data-id="BHSKN-001"
                      />
                    </td>
                    <td>BHSKN-001</td>
                    <td data-translate-key="policyTypeGroupHealth">
                      Sức khỏe nhóm
                    </td>
                    <td>01/01/2024</td>
                    <td>01/01/2025</td>
                    <td>180,000,000 VNĐ</td>
                    <td data-translate-key="subjects45Employees">
                      45 nhân viên
                    </td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusActive"
                        >Đang hiệu lực</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionView"
                      >
                        Xem
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionDownloadPdf"
                      >
                        Tải PDF
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="form-checkbox-item"
                        data-id="BHTS-DN-002"
                      />
                    </td>
                    <td>BHTS-DN-002</td>
                    <td data-translate-key="policyTypeBusinessProperty">
                      Tài sản doanh nghiệp
                    </td>
                    <td>15/07/2023</td>
                    <td>15/07/2024</td>
                    <td>50,000,000 VNĐ</td>
                    <td data-translate-key="subjects1Office">1 Văn phòng</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusActive"
                        >Đang hiệu lực</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionView"
                      >
                        Xem
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionDownloadPdf"
                      >
                        Tải PDF
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="form-checkbox-item"
                        data-id="BHX-DN-003"
                      />
                    </td>
                    <td>BHX-DN-003</td>
                    <td data-translate-key="policyTypeVehicleFleet">
                      Xe cơ giới (đội xe)
                    </td>
                    <td>10/03/2024</td>
                    <td>10/03/2025</td>
                    <td>35,000,000 VNĐ</td>
                    <td data-translate-key="subjects5Trucks">5 xe tải</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusActive"
                        >Đang hiệu lực</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionView"
                      >
                        Xem
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionDownloadPdf"
                      >
                        Tải PDF
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4 flex space-x-2">
              <button class="btn btn-secondary btn-sm" id="bulkRenewBtn">
                <i class="fas fa-sync-alt mr-1"></i
                ><span data-translate-key="btnBulkRenew"
                  >Gia Hạn Hàng Loạt</span
                >
              </button>
              <button
                class="btn btn-outline btn-sm border-red-500 text-red-500 hover:bg-red-50"
                id="bulkCancelBtn"
              >
                <i class="fas fa-times-circle mr-1"></i
                ><span data-translate-key="btnBulkCancel">Hủy Hàng Loạt</span>
              </button>
            </div>
          </section>

          <section id="employeeManagement" class="content-section card">
            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
              <h2
                class="text-2xl font-semibold text-gray-800"
                data-translate-key="titleManageEmployees"
              >
                Quản Lý Nhân Viên (Bảo hiểm Sức khỏe Nhóm BHSKN-001)
              </h2>
              <div>
                <input
                  type="file"
                  id="csvUploadEmployee"
                  class="hidden"
                  accept=".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"
                />
                <button
                  onclick="document.getElementById('csvUploadEmployee').click()"
                  class="btn btn-outline btn-sm mr-2"
                >
                  <i class="fas fa-upload mr-1"></i
                  ><span data-translate-key="btnImportCsvExcel"
                    >Nhập CSV/Excel</span
                  >
                </button>
                <button class="btn btn-primary btn-sm">
                  <i class="fas fa-user-plus mr-1"></i
                  ><span data-translate-key="btnAddEmployee"
                    >Thêm Nhân Viên Mới</span
                  >
                </button>
              </div>
            </div>
            <div class="mb-4">
              <input
                type="search"
                data-translate-placeholder-key="placeholderSearchEmployee"
                placeholder="Tìm kiếm nhân viên (Tên, Mã NV, Phòng ban...)"
                class="form-input w-full md:w-1/2"
              />
            </div>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th>
                      <input
                        type="checkbox"
                        class="form-checkbox-all-employee"
                      />
                    </th>
                    <th data-translate-key="tableEmployeeId">Mã NV</th>
                    <th data-translate-key="tableFullName">Họ Tên</th>
                    <th data-translate-key="tableDob">Ngày Sinh</th>
                    <th data-translate-key="tableDepartment">Phòng Ban</th>
                    <th data-translate-key="tableInsurancePackage">
                      Gói Bảo Hiểm
                    </th>
                    <th data-translate-key="tableJoinDate">Ngày Tham Gia</th>
                    <th data-translate-key="tableStatus">Trạng Thái</th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="form-checkbox-item-employee"
                        data-id="NV001"
                      />
                    </td>
                    <td>NV001</td>
                    <td>Nguyễn Văn An</td>
                    <td>10/05/1990</td>
                    <td data-translate-key="departmentTechnical">Kỹ thuật</td>
                    <td data-translate-key="packageGold">Gói Vàng</td>
                    <td>01/01/2024</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusInsured"
                        >Đang bảo hiểm</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionEdit"
                      >
                        Sửa
                      </button>
                      |
                      <button
                        class="text-red-600 hover:underline text-xs"
                        data-translate-key="actionDelete"
                      >
                        Xóa
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <input
                        type="checkbox"
                        class="form-checkbox-item-employee"
                        data-id="NV002"
                      />
                    </td>
                    <td>NV002</td>
                    <td>Trần Thị Bình</td>
                    <td>20/08/1992</td>
                    <td data-translate-key="departmentSales">Kinh doanh</td>
                    <td data-translate-key="packageGold">Gói Vàng</td>
                    <td>01/01/2024</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusInsured"
                        >Đang bảo hiểm</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionEdit"
                      >
                        Sửa
                      </button>
                      |
                      <button
                        class="text-red-600 hover:underline text-xs"
                        data-translate-key="actionDelete"
                      >
                        Xóa
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4">
              <button
                class="btn btn-secondary btn-sm"
                id="bulkUpdateEmployeeBtn"
              >
                <i class="fas fa-edit mr-1"></i
                ><span data-translate-key="btnBulkUpdate"
                  >Cập Nhật Hàng Loạt</span
                >
              </button>
            </div>
          </section>

          <section id="companyClaims" class="content-section card">
            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
              <h2
                class="text-2xl font-semibold text-gray-800"
                data-translate-key="titleManageCompanyClaims"
              >
                Quản Lý Yêu Cầu Bồi Thường (Doanh Nghiệp)
              </h2>
              <button class="btn btn-primary btn-sm">
                <i class="fas fa-plus-circle mr-1"></i
                ><span data-translate-key="btnCreateNewRequest"
                  >Tạo Yêu Cầu Mới</span
                >
              </button>
            </div>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th data-translate-key="tableClaimId">Mã YC</th>
                    <th data-translate-key="tablePolicyNo">Hợp Đồng</th>
                    <th data-translate-key="tableEmployeeOptional">
                      Nhân Viên (Nếu có)
                    </th>
                    <th data-translate-key="tableRequestDate">Ngày YC</th>
                    <th data-translate-key="tableClaimType">Loại YC</th>
                    <th data-translate-key="tableAmountRequested">
                      Số Tiền YC
                    </th>
                    <th data-translate-key="tableStatus">Trạng Thái</th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>YC-DN-005</td>
                    <td>BHSKN-001</td>
                    <td>Nguyễn Thị C (NV003)</td>
                    <td>15/05/2024</td>
                    <td data-translate-key="claimTypeMedical">
                      Khám chữa bệnh
                    </td>
                    <td>3,500,000 VNĐ</td>
                    <td>
                      <span
                        class="status-pending-approval"
                        data-translate-key="statusPendingApproval"
                        >Chờ phê duyệt</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionView"
                      >
                        Xem
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionApprove"
                      >
                        Phê Duyệt
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>YC-DN-006</td>
                    <td>BHTS-DN-002</td>
                    <td>N/A</td>
                    <td>01/04/2024</td>
                    <td data-translate-key="claimTypeOfficeFire">Cháy nổ VP</td>
                    <td>25,000,000 VNĐ</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusPaidOut"
                        >Đã chi trả</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionView"
                      >
                        Xem
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section id="billingInvoices" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleBillingInvoices"
            >
              Thanh Toán & Hóa Đơn
            </h2>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th data-translate-key="tableInvoiceId">Mã Hóa Đơn</th>
                    <th data-translate-key="tableBillingPeriod">
                      Kỳ Thanh Toán
                    </th>
                    <th data-translate-key="tableAmount">Số Tiền</th>
                    <th data-translate-key="tableDueDate">Ngày Đến Hạn</th>
                    <th data-translate-key="tableStatus">Trạng Thái</th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>INV-2024-0012</td>
                    <td>01/05/2024 - 31/05/2024</td>
                    <td>15,000,000 VNĐ</td>
                    <td>25/05/2025</td>
                    <td>
                      <span
                        class="status-overdue"
                        data-translate-key="statusOverdue"
                        >Quá hạn</span
                      >
                    </td>
                    <td>
                      <button
                        class="btn btn-primary btn-sm text-xs"
                        data-translate-key="btnPay"
                      >
                        Thanh Toán
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionDownloadInvoice"
                      >
                        Tải Hóa Đơn
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>INV-2024-0011</td>
                    <td>01/04/2024 - 30/04/2024</td>
                    <td>15,000,000 VNĐ</td>
                    <td>25/04/2024</td>
                    <td>
                      <span class="status-paid" data-translate-key="statusPaid"
                        >Đã thanh toán</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionDownloadInvoice"
                      >
                        Tải Hóa Đơn
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="mt-4">
              <button class="btn btn-secondary btn-sm">
                <i class="fas fa-credit-card mr-1"></i
                ><span data-translate-key="btnBulkPay"
                  >Thanh Toán Hàng Loạt</span
                >
              </button>
            </div>
          </section>

          <section id="reportsAnalytics" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleReportsAnalytics"
            >
              Báo Cáo & Phân Tích
            </h2>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <label
                  for="reportType"
                  class="form-label"
                  data-translate-key="labelReportType"
                  >Loại Báo Cáo:</label
                >
                <select id="reportType" class="form-select">
                  <option
                    value="premium_expenditure"
                    data-translate-key="reportTypePremium"
                  >
                    Chi Phí Bảo Hiểm
                  </option>
                  <option
                    value="claims_history"
                    data-translate-key="reportTypeClaims"
                  >
                    Lịch Sử Bồi Thường
                  </option>
                  <option
                    value="coverage_analysis"
                    data-translate-key="reportTypeCoverage"
                  >
                    Phân Tích Phạm Vi Bảo Hiểm
                  </option>
                </select>
              </div>
              <div>
                <label
                  for="reportPeriod"
                  class="form-label"
                  data-translate-key="labelReportPeriod"
                  >Kỳ Báo Cáo:</label
                >
                <select id="reportPeriod" class="form-select">
                  <option
                    value="last_month"
                    data-translate-key="reportPeriodLastMonth"
                  >
                    Tháng Trước
                  </option>
                  <option
                    value="last_quarter"
                    data-translate-key="reportPeriodLastQuarter"
                  >
                    Quý Trước
                  </option>
                  <option
                    value="last_year"
                    data-translate-key="reportPeriodLastYear"
                  >
                    Năm Trước
                  </option>
                  <option
                    value="custom"
                    data-translate-key="reportPeriodCustom"
                  >
                    Tùy Chọn
                  </option>
                </select>
              </div>
            </div>
            <div class="mt-4">
              <button class="btn btn-primary">
                <i class="fas fa-cogs mr-1"></i
                ><span data-translate-key="btnGenerateReport">Tạo Báo Cáo</span>
              </button>
            </div>
            <div class="mt-6 border rounded-lg p-4 bg-gray-50">
              <h4
                class="font-medium mb-2"
                data-translate-key="titleReportResultsSample"
              >
                Kết quả báo cáo (Mẫu)
              </h4>
              <p
                class="text-sm text-gray-600"
                data-translate-key="descReportResultsSample"
              >
                Báo cáo chi phí bảo hiểm quý 1/2024: Tổng 45,000,000 VNĐ. Chi
                tiết sẽ được hiển thị ở đây dưới dạng bảng hoặc biểu đồ.
              </p>
              <canvas id="claimsHistoryChart" class="mt-4"></canvas>
            </div>
          </section>

          <section id="companyDocuments" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleCompanyDocuments"
            >
              Tài Liệu Công Ty
            </h2>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
              <div
                class="border p-4 rounded-lg bg-gray-50 hover:shadow-md transition-shadow"
              >
                <i class="fas fa-file-contract fa-2x text-emerald-500 mb-2"></i>
                <h4
                  class="font-medium"
                  data-translate-key="docSampleFrameworkContract"
                >
                  Hợp đồng khung BHSK Nhóm.pdf
                </h4>
                <p
                  class="text-xs text-gray-500"
                  data-translate-key="docSampleVersionDate1"
                >
                  Phiên bản: 2.1 - Ngày cập nhật: 01/03/2024
                </p>
                <button
                  class="text-emerald-600 hover:underline text-sm mt-2"
                  data-translate-key="actionDownload"
                >
                  Tải xuống
                </button>
              </div>
              <div
                class="border p-4 rounded-lg bg-gray-50 hover:shadow-md transition-shadow"
              >
                <i class="fas fa-file-alt fa-2x text-blue-500 mb-2"></i>
                <h4
                  class="font-medium"
                  data-translate-key="docSamplePortalGuide"
                >
                  Hướng dẫn sử dụng Portal Doanh nghiệp.docx
                </h4>
                <p
                  class="text-xs text-gray-500"
                  data-translate-key="docSampleVersionDate2"
                >
                  Phiên bản: 1.0 - Ngày cập nhật: 10/01/2024
                </p>
                <button
                  class="text-emerald-600 hover:underline text-sm mt-2"
                  data-translate-key="actionDownload"
                >
                  Tải xuống
                </button>
              </div>
            </div>
          </section>

          <section id="approvalWorkflows" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleApprovalWorkflows"
            >
              Luồng Phê Duyệt
            </h2>
            <p
              class="text-gray-600 mb-4"
              data-translate-key="descApprovalWorkflows"
            >
              Quản lý các yêu cầu đang chờ phê duyệt từ bạn hoặc cần bạn thực
              hiện hành động.
            </p>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th data-translate-key="tableRequestId">Mã Yêu Cầu</th>
                    <th data-translate-key="tableRequestType">Loại Yêu Cầu</th>
                    <th data-translate-key="tableCreator">Người Tạo</th>
                    <th data-translate-key="tableCreationDate">Ngày Tạo</th>
                    <th data-translate-key="tableCurrentStatus">
                      Trạng Thái Hiện Tại
                    </th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>YC-PD-001</td>
                    <td data-translate-key="requestTypeChangePackage">
                      Thay đổi gói BH nhân viên
                    </td>
                    <td>Trần Văn Minh (HR)</td>
                    <td>18/05/2024</td>
                    <td>
                      <span
                        class="status-pending-approval"
                        data-translate-key="statusWaitingDeptHead"
                        >Chờ Trưởng Phòng duyệt</span
                      >
                    </td>
                    <td>
                      <button
                        class="btn btn-primary btn-sm text-xs"
                        data-translate-key="btnViewApprove"
                      >
                        Xem & Duyệt
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>YC-PD-002</td>
                    <td data-translate-key="requestTypeAddNewEmployee">
                      Thêm nhân viên mới vào BH
                    </td>
                    <td>Lê Thị Hoa (HR)</td>
                    <td>20/05/2024</td>
                    <td>
                      <span
                        class="status-pending-approval"
                        data-translate-key="statusWaitingPortalAdmin"
                        >Chờ Admin Portal duyệt</span
                      >
                    </td>
                    <td>
                      <button
                        class="btn btn-primary btn-sm text-xs"
                        data-translate-key="btnViewApprove"
                      >
                        Xem & Duyệt
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section id="smeSupport" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleSMESupport"
            >
              Hỗ Trợ Doanh Nghiệp
            </h2>
            <p class="text-gray-600 mb-4" data-translate-key="descSMESupport">
              Liên hệ với đội ngũ hỗ trợ chuyên biệt của chúng tôi hoặc tìm kiếm
              tài liệu hướng dẫn.
            </p>
            <div class="grid md:grid-cols-2 gap-6">
              <div>
                <h4
                  class="font-medium text-lg mb-2"
                  data-translate-key="titleSubmitSupportRequest"
                >
                  Gửi Yêu Cầu Hỗ Trợ
                </h4>
                <form class="space-y-3">
                  <select class="form-select !mb-3">
                    <option data-translate-key="supportTopicContract">
                      Vấn đề về hợp đồng
                    </option>
                    <option data-translate-key="supportTopicPayment">
                      Vấn đề về thanh toán
                    </option>
                    <option data-translate-key="supportTopicPortalTech">
                      Hỗ trợ kỹ thuật portal
                    </option>
                    <option data-translate-key="supportTopicOther">Khác</option>
                  </select>
                  <textarea
                    class="form-textarea !mb-3"
                    rows="4"
                    data-translate-placeholder-key="placeholderSupportMessage"
                    placeholder="Mô tả chi tiết vấn đề của bạn..."
                  ></textarea>
                  <button
                    type="submit"
                    class="btn btn-primary"
                    data-translate-key="btnSendRequest"
                  >
                    Gửi Yêu Cầu
                  </button>
                </form>
              </div>
              <div>
                <h4
                  class="font-medium text-lg mb-2"
                  data-translate-key="titleContactInfo"
                >
                  Thông Tin Liên Hệ
                </h4>
                <p><strong>Hotline:</strong> 1800 XXXX (Nhánh 2)</p>
                <p><strong>Email:</strong> hotro.sme@baohiempro.com.vn</p>
                <p>
                  <strong data-translate-key="textWorkingHours"
                    >Giờ làm việc:</strong
                  >
                  8:00 - 17:30 (Thứ 2 - Thứ 6)
                </p>
                <h4
                  class="font-medium text-lg mt-4 mb-2"
                  data-translate-key="titleQuickGuides"
                >
                  Tài Liệu Hướng Dẫn Nhanh
                </h4>
                <ul class="list-disc list-inside text-emerald-600 space-y-1">
                  <li>
                    <a
                      href="#"
                      class="hover:underline"
                      data-translate-key="linkGuideEmployeeMgmt"
                      >Hướng dẫn quản lý nhân viên</a
                    >
                  </li>
                  <li>
                    <a
                      href="#"
                      class="hover:underline"
                      data-translate-key="linkGuideInvoicePayment"
                      >Hướng dẫn thanh toán hóa đơn</a
                    >
                  </li>
                </ul>
              </div>
            </div>
          </section>

          <section id="companyProfile" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titleCompanyProfile"
            >
              Hồ Sơ Công Ty
            </h2>
            <form id="companyProfileForm" class="space-y-4">
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="profileCompanyName"
                    class="form-label"
                    data-translate-key="labelCompanyName"
                    >Tên Công Ty:</label
                  >
                  <input
                    type="text"
                    id="profileCompanyName"
                    class="form-input"
                    value="Công Ty TNHH Phát Triển ABC"
                    required
                  />
                </div>
                <div>
                  <label
                    for="profileTaxCode"
                    class="form-label"
                    data-translate-key="labelTaxCode"
                    >Mã Số Thuế:</label
                  >
                  <input
                    type="text"
                    id="profileTaxCode"
                    class="form-input"
                    value="0312345678"
                    readonly
                    disabled
                    class="bg-gray-100"
                  />
                </div>
              </div>
              <div class="grid md:grid-cols-2 gap-6">
                <div>
                  <label
                    for="profileCompanyEmail"
                    class="form-label"
                    data-translate-key="labelCompanyEmail"
                    >Email Công Ty:</label
                  >
                  <input
                    type="email"
                    id="profileCompanyEmail"
                    class="form-input"
                    value="contact@abc-dev.com.vn"
                    required
                  />
                </div>
                <div>
                  <label
                    for="profileCompanyPhone"
                    class="form-label"
                    data-translate-key="labelCompanyPhone"
                    >Số Điện Thoại Công Ty:</label
                  >
                  <input
                    type="tel"
                    id="profileCompanyPhone"
                    class="form-input"
                    value="02838123456"
                    required
                  />
                </div>
              </div>
              <div>
                <label
                  for="profileCompanyAddress"
                  class="form-label"
                  data-translate-key="labelCompanyRegAddress"
                  >Địa Chỉ Đăng Ký Kinh Doanh:</label
                >
                <input
                  type="text"
                  id="profileCompanyAddress"
                  class="form-input"
                  value="Tầng 10, Tòa nhà Central Park, 123 Nguyễn Du, Quận 1, TP. HCM"
                  required
                />
              </div>
              <div class="pt-4">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save mr-2"></i
                  ><span data-translate-key="btnSaveCompanyInfo"
                    >Lưu Thông Tin Công Ty</span
                  >
                </button>
              </div>
            </form>
          </section>

          <section id="userManagement" class="content-section card">
            <div class="flex flex-wrap justify-between items-center mb-6 gap-4">
              <h2
                class="text-2xl font-semibold text-gray-800"
                data-translate-key="titleUserManagement"
              >
                Quản Lý Người Dùng Portal
              </h2>
              <button class="btn btn-primary btn-sm">
                <i class="fas fa-user-plus mr-1"></i
                ><span data-translate-key="btnAddUser"
                  >Thêm Người Dùng Mới</span
                >
              </button>
            </div>
            <div class="overflow-x-auto table-container">
              <table class="min-w-full table">
                <thead>
                  <tr>
                    <th data-translate-key="tableFullName">Họ Tên</th>
                    <th data-translate-key="tableEmail">Email</th>
                    <th data-translate-key="tableRole">Vai Trò</th>
                    <th data-translate-key="tableLastAccess">
                      Lần Truy Cập Cuối
                    </th>
                    <th data-translate-key="tableStatus">Trạng Thái</th>
                    <th data-translate-key="tableAction">Hành Động</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td>Trần Văn Quản Lý</td>
                    <td>quanly@abc-dev.com.vn</td>
                    <td data-translate-key="roleAdmin">
                      Quản trị viên (Admin)
                    </td>
                    <td>20/05/2024 10:00</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusActive"
                        >Hoạt động</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionEdit"
                      >
                        Sửa
                      </button>
                      |
                      <button
                        class="text-red-600 hover:underline text-xs"
                        data-translate-key="actionDeactivate"
                      >
                        Vô hiệu hóa
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Lê Thị Nhân Sự</td>
                    <td>nhansu@abc-dev.com.vn</td>
                    <td data-translate-key="roleManager">
                      Quản lý nhân sự (Manager)
                    </td>
                    <td>19/05/2024 15:30</td>
                    <td>
                      <span
                        class="status-active"
                        data-translate-key="statusActive"
                        >Hoạt động</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionEdit"
                      >
                        Sửa
                      </button>
                      |
                      <button
                        class="text-red-600 hover:underline text-xs"
                        data-translate-key="actionDeactivate"
                      >
                        Vô hiệu hóa
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td>Phạm Văn Kế Toán</td>
                    <td>ketoan@abc-dev.com.vn</td>
                    <td data-translate-key="roleViewer">Người xem (Viewer)</td>
                    <td>18/05/2024 09:00</td>
                    <td>
                      <span
                        class="status-cancelled"
                        data-translate-key="statusLocked"
                        >Bị khóa</span
                      >
                    </td>
                    <td>
                      <button
                        class="text-emerald-600 hover:underline text-xs"
                        data-translate-key="actionEdit"
                      >
                        Sửa
                      </button>
                      |
                      <button
                        class="text-blue-600 hover:underline text-xs"
                        data-translate-key="actionUnlock"
                      >
                        Mở khóa
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </section>

          <section id="portalSettings" class="content-section card">
            <h2
              class="text-2xl font-semibold text-gray-800 mb-6"
              data-translate-key="titlePortalSettings"
            >
              Cài Đặt Portal Doanh Nghiệp
            </h2>
            <form id="portalSettingsForm" class="space-y-6">
              <div>
                <h3
                  class="text-lg font-medium text-gray-700 mb-2"
                  data-translate-key="titleInterfaceCustomization"
                >
                  Tùy Chỉnh Giao Diện
                </h3>
                <div class="flex items-center">
                  <label
                    for="portalThemeColor"
                    class="form-label mr-3 !mb-0"
                    data-translate-key="labelPortalThemeColor"
                    >Màu Chủ Đạo Portal:</label
                  >
                  <input
                    type="color"
                    id="portalThemeColor"
                    value="#059669"
                    class="h-8 w-12 rounded border border-gray-300"
                  />
                </div>
                <div class="mt-2">
                  <label
                    for="portalLogoUpload"
                    class="form-label"
                    data-translate-key="labelUploadCompanyLogo"
                    >Tải Lên Logo Công Ty (Hiển thị trên Portal):</label
                  >
                  <input type="file" id="portalLogoUpload" class="form-input" />
                </div>
              </div>
              <div>
                <h3
                  class="text-lg font-medium text-gray-700 mb-2"
                  data-translate-key="titleGeneralNotifications"
                >
                  Cài Đặt Thông Báo Chung
                </h3>
                <div class="space-y-2">
                  <div class="flex items-center">
                    <input
                      type="checkbox"
                      id="masterEmailNotifications"
                      checked
                      class="h-4 w-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500 mr-2"
                    />
                    <label
                      for="masterEmailNotifications"
                      class="text-sm text-gray-700"
                      data-translate-key="labelAdminEmailNotifications"
                      >Gửi email thông báo cho Quản trị viên về các hoạt động
                      quan trọng</label
                    >
                  </div>
                </div>
              </div>
              <div class="pt-4">
                <button type="submit" class="btn btn-primary">
                  <i class="fas fa-save mr-2"></i
                  ><span data-translate-key="btnSavePortalSettings"
                    >Lưu Cài Đặt Portal</span
                  >
                </button>
              </div>
            </form>
          </section>
        </main>
      </div>
    </div>

    <footer class="bg-gray-900 text-gray-400 py-8 mt-12">
      <div class="container mx-auto px-6 text-center">
        <p class="text-sm" data-translate-key="footerCopyright">
          Bản quyền &copy; 2024 Công Ty Bảo Hiểm BảoHiểmPRO. Bảo lưu mọi quyền.
        </p>
      </div>
    </footer>

    <script>
      const translations = {
        vi: {
          pageTitle: "Cổng Thông Tin Doanh Nghiệp - BảoHiểmPRO",
          altLogoSME: "Logo BảoHiểmPRO Doanh Nghiệp",
          altBusinessAvatar: "Ảnh đại diện doanh nghiệp",
          headerCompanyNameText: "Công Ty TNHH Phát Triển ABC", // Sample, can be dynamic
          linkCompanyProfile: '<i class="fas fa-building"></i>Hồ Sơ Công Ty',
          linkUserManagement:
            '<i class="fas fa-users-cog"></i>Quản Lý Người Dùng',
          linkPortalSettings: '<i class="fas fa-sliders-h"></i>Cài Đặt Portal',
          linkLogout: '<i class="fas fa-sign-out-alt"></i>Đăng Xuất',
          sidebarOverview: '<i class="fas fa-chart-line"></i>Tổng Quan',
          sidebarCompanyPolicies:
            '<i class="fas fa-file-signature"></i>Hợp Đồng Công Ty',
          sidebarEmployeeManagement:
            '<i class="fas fa-users"></i>Quản Lý Nhân Viên',
          sidebarCompanyClaims:
            '<i class="fas fa-medkit"></i>Yêu Cầu Bồi Thường',
          sidebarBillingInvoices:
            '<i class="fas fa-file-invoice-dollar"></i>Thanh Toán & Hóa Đơn',
          sidebarReportsAnalytics:
            '<i class="fas fa-chart-pie"></i>Báo Cáo & Phân Tích',
          sidebarCompanyDocuments:
            '<i class="fas fa-folder"></i>Tài Liệu Công Ty',
          sidebarApprovalWorkflows:
            '<i class="fas fa-tasks"></i>Luồng Phê Duyệt',
          sidebarSMESupport:
            '<i class="fas fa-headset"></i>Hỗ Trợ Doanh Nghiệp',
          dashboardTitleSME: "Tổng Quan Hoạt Động Doanh Nghiệp",
          dashboardTotalPolicies: "Tổng Số Hợp Đồng",
          dashboardInsuredEmployees: "Nhân Viên Được Bảo Hiểm",
          dashboardUnpaidInvoices: "Hóa Đơn Chưa Thanh Toán",
          textTotalAmount: "Tổng",
          dashboardPendingClaims: "Yêu Cầu Đang Chờ",
          chartMonthlyPremiumTitle:
            "Chi Phí Bảo Hiểm Hàng Tháng (6 tháng gần nhất)",
          chartMonthlyPremiumLabel: "Chi Phí Bảo Hiểm (VNĐ)",
          chartMonths: [
            "Tháng 12",
            "Tháng 1",
            "Tháng 2",
            "Tháng 3",
            "Tháng 4",
            "Tháng 5",
          ],
          dashboardRecentNotices: "Thông Báo & Cảnh Báo",
          noticePolicyExpiry:
            "Hợp đồng BHTS-DN-002 sẽ hết hạn trong 30 ngày. Cần gia hạn.",
          noticeInvoiceDue:
            "Hóa đơn INV-2024-0012 (15,000,000 VNĐ) sắp đến hạn vào 25/05/2025.",
          noticeNewEmployeesAdded:
            "5 nhân viên mới đã được thêm vào hợp đồng bảo hiểm sức khỏe nhóm BHSKN-001.",
          noticeClaimPendingApproval:
            "Yêu cầu bồi thường YC-DN-005 cho nhân viên Nguyễn Thị C đang chờ phê duyệt của bạn.",
          titleManageCompanyPolicies: "Quản Lý Hợp Đồng Công Ty",
          btnFilter: "Lọc",
          btnAddNewGuideline: "Thêm Hợp Đồng Mới",
          tablePolicyNo: "Số Hợp Đồng",
          tablePolicyType: "Loại Hình",
          tableEffectiveDate: "Ngày Hiệu Lực",
          tableRenewalDate: "Ngày Tái Tục",
          tableAnnualFee: "Phí Hàng Năm",
          tableNoOfSubjects: "Số Lượng Đối Tượng",
          tableStatus: "Trạng Thái",
          tableAction: "Hành Động",
          policyTypeGroupHealth: "Sức khỏe nhóm",
          subjects45Employees: "45 nhân viên",
          statusActive: "Đang hiệu lực",
          actionView: "Xem",
          actionDownloadPdf: "Tải PDF",
          policyTypeBusinessProperty: "Tài sản doanh nghiệp",
          subjects1Office: "1 Văn phòng",
          policyTypeVehicleFleet: "Xe cơ giới (đội xe)",
          subjects5Trucks: "5 xe tải",
          btnBulkRenew: "Gia Hạn Hàng Loạt",
          btnBulkCancel: "Hủy Hàng Loạt",
          titleManageEmployees:
            "Quản Lý Nhân Viên (Bảo hiểm Sức khỏe Nhóm BHSKN-001)",
          btnImportCsvExcel: "Nhập CSV/Excel",
          btnAddEmployee: "Thêm Nhân Viên Mới",
          placeholderSearchEmployee:
            "Tìm kiếm nhân viên (Tên, Mã NV, Phòng ban...)",
          tableEmployeeId: "Mã NV",
          tableFullName: "Họ Tên",
          tableDob: "Ngày Sinh",
          tableDepartment: "Phòng Ban",
          tableInsurancePackage: "Gói Bảo Hiểm",
          tableJoinDate: "Ngày Tham Gia",
          departmentTechnical: "Kỹ thuật",
          packageGold: "Gói Vàng",
          statusInsured: "Đang bảo hiểm",
          actionEdit: "Sửa",
          actionDelete: "Xóa",
          departmentSales: "Kinh doanh",
          btnBulkUpdate: "Cập Nhật Hàng Loạt",
          titleManageCompanyClaims: "Quản Lý Yêu Cầu Bồi Thường (Doanh Nghiệp)",
          btnCreateNewRequest: "Tạo Yêu Cầu Mới",
          tableEmployeeOptional: "Nhân Viên (Nếu có)",
          claimTypeMedical: "Khám chữa bệnh",
          statusPendingApproval: "Chờ phê duyệt",
          actionApprove: "Phê Duyệt",
          claimTypeOfficeFire: "Cháy nổ VP",
          statusPaidOut: "Đã chi trả",
          titleBillingInvoices: "Thanh Toán & Hóa Đơn",
          tableInvoiceId: "Mã Hóa Đơn",
          tableBillingPeriod: "Kỳ Thanh Toán",
          tableAmount: "Số Tiền",
          tableDueDate: "Ngày Đến Hạn",
          statusOverdue: "Quá hạn",
          btnPay: "Thanh Toán",
          actionDownloadInvoice: "Tải Hóa Đơn",
          statusPaid: "Đã thanh toán",
          btnBulkPay: "Thanh Toán Hàng Loạt",
          titleReportsAnalytics: "Báo Cáo & Phân Tích",
          labelReportType: "Loại Báo Cáo:",
          reportTypePremium: "Chi Phí Bảo Hiểm",
          reportTypeClaims: "Lịch Sử Bồi Thường",
          reportTypeCoverage: "Phân Tích Phạm Vi Bảo Hiểm",
          labelReportPeriod: "Kỳ Báo Cáo:",
          reportPeriodLastMonth: "Tháng Trước",
          reportPeriodLastQuarter: "Quý Trước",
          reportPeriodLastYear: "Năm Trước",
          reportPeriodCustom: "Tùy Chọn",
          btnGenerateReport: "Tạo Báo Cáo",
          titleReportResultsSample: "Kết quả báo cáo (Mẫu)",
          descReportResultsSample:
            "Báo cáo chi phí bảo hiểm quý 1/2024: Tổng 45,000,000 VNĐ. Chi tiết sẽ được hiển thị ở đây dưới dạng bảng hoặc biểu đồ.",
          chartClaimsHistoryLabelRequests: "Số Lượng Yêu Cầu",
          chartClaimsHistoryLabelAmount: "Số Tiền Chi Trả (Triệu VNĐ)",
          chartClaimsHistoryQuarters: [
            "Quý 1/2023",
            "Quý 2/2023",
            "Quý 3/2023",
            "Quý 4/2023",
            "Quý 1/2024",
          ],
          titleCompanyDocuments: "Tài Liệu Công Ty",
          docSampleFrameworkContract: "Hợp đồng khung BHSK Nhóm.pdf",
          docSampleVersionDate1: "Phiên bản: 2.1 - Ngày cập nhật: 01/03/2024",
          actionDownload: "Tải xuống",
          docSamplePortalGuide: "Hướng dẫn sử dụng Portal Doanh nghiệp.docx",
          docSampleVersionDate2: "Phiên bản: 1.0 - Ngày cập nhật: 10/01/2024",
          titleApprovalWorkflows: "Luồng Phê Duyệt",
          descApprovalWorkflows:
            "Quản lý các yêu cầu đang chờ phê duyệt từ bạn hoặc cần bạn thực hiện hành động.",
          tableRequestId: "Mã Yêu Cầu",
          tableRequestType: "Loại Yêu Cầu",
          tableCreator: "Người Tạo",
          tableCreationDate: "Ngày Tạo",
          tableCurrentStatus: "Trạng Thái Hiện Tại",
          requestTypeChangePackage: "Thay đổi gói BH nhân viên",
          statusWaitingDeptHead: "Chờ Trưởng Phòng duyệt",
          btnViewApprove: "Xem & Duyệt",
          requestTypeAddNewEmployee: "Thêm nhân viên mới vào BH",
          statusWaitingPortalAdmin: "Chờ Admin Portal duyệt",
          titleSMESupport: "Hỗ Trợ Doanh Nghiệp",
          descSMESupport:
            "Liên hệ với đội ngũ hỗ trợ chuyên biệt của chúng tôi hoặc tìm kiếm tài liệu hướng dẫn.",
          titleSubmitSupportRequest: "Gửi Yêu Cầu Hỗ Trợ",
          supportTopicContract: "Vấn đề về hợp đồng",
          supportTopicPayment: "Vấn đề về thanh toán",
          supportTopicPortalTech: "Hỗ trợ kỹ thuật portal",
          supportTopicOther: "Khác",
          placeholderSupportMessage: "Mô tả chi tiết vấn đề của bạn...",
          btnSendRequest: "Gửi Yêu Cầu",
          titleContactInfo: "Thông Tin Liên Hệ",
          textWorkingHours: "Giờ làm việc:",
          titleQuickGuides: "Tài Liệu Hướng Dẫn Nhanh",
          linkGuideEmployeeMgmt: "Hướng dẫn quản lý nhân viên",
          linkGuideInvoicePayment: "Hướng dẫn thanh toán hóa đơn",
          titleCompanyProfile: "Hồ Sơ Công Ty",
          labelCompanyName: "Tên Công Ty:",
          labelTaxCode: "Mã Số Thuế:",
          labelCompanyEmail: "Email Công Ty:",
          labelCompanyPhone: "Số Điện Thoại Công Ty:",
          labelCompanyRegAddress: "Địa Chỉ Đăng Ký Kinh Doanh:",
          btnSaveCompanyInfo: "Lưu Thông Tin Công Ty",
          titleUserManagement: "Quản Lý Người Dùng Portal",
          btnAddUser: "Thêm Người Dùng Mới",
          tableRole: "Vai Trò",
          tableLastAccess: "Lần Truy Cập Cuối",
          roleAdmin: "Quản trị viên (Admin)",
          actionDeactivate: "Vô hiệu hóa",
          roleManager: "Quản lý nhân sự (Manager)",
          roleViewer: "Người xem (Viewer)",
          statusLocked: "Bị khóa",
          actionUnlock: "Mở khóa",
          titlePortalSettings: "Cài Đặt Portal Doanh Nghiệp",
          titleInterfaceCustomization: "Tùy Chỉnh Giao Diện",
          labelPortalThemeColor: "Màu Chủ Đạo Portal:",
          labelUploadCompanyLogo:
            "Tải Lên Logo Công Ty (Hiển thị trên Portal):",
          titleGeneralNotifications: "Cài Đặt Thông Báo Chung",
          labelAdminEmailNotifications:
            "Gửi email thông báo cho Quản trị viên về các hoạt động quan trọng",
          btnSavePortalSettings: "Lưu Cài Đặt Portal",
          footerCopyright:
            "Bản quyền &copy; 2024 Công Ty Bảo Hiểm BảoHiểmPRO. Bảo lưu mọi quyền.",
          // JS Alerts
          alertLogoutSuccess: "Đăng xuất thành công (Mô phỏng).",
          alertShowNotifications:
            "Hiển thị danh sách thông báo doanh nghiệp (Tính năng đang phát triển).",
          alertCompanyProfileUpdated:
            "Thông tin công ty đã được cập nhật (Mô phỏng).",
          alertPortalSettingsSaved: "Cài đặt portal đã được lưu (Mô phỏng).",
          alertBulkRenew:
            "Xử lý gia hạn hàng loạt các hợp đồng đã chọn (Tính năng đang phát triển).",
          alertBulkCancel:
            "Xử lý hủy hàng loạt các hợp đồng đã chọn (Tính năng đang phát triển).",
          alertBulkUpdateEmployee:
            "Xử lý cập nhật hàng loạt nhân viên đã chọn (Tính năng đang phát triển).",
        },
        en: {
          pageTitle: "Business Portal - BảoHiểmPRO",
          altLogoSME: "BảoHiểmPRO SME Logo",
          altBusinessAvatar: "Business Avatar",
          headerCompanyNameText: "ABC Development LLC",
          linkCompanyProfile: '<i class="fas fa-building"></i>Company Profile',
          linkUserManagement: '<i class="fas fa-users-cog"></i>User Management',
          linkPortalSettings: '<i class="fas fa-sliders-h"></i>Portal Settings',
          linkLogout: '<i class="fas fa-sign-out-alt"></i>Logout',
          sidebarOverview: '<i class="fas fa-chart-line"></i>Overview',
          sidebarCompanyPolicies:
            '<i class="fas fa-file-signature"></i>Company Policies',
          sidebarEmployeeManagement:
            '<i class="fas fa-users"></i>Employee Management',
          sidebarCompanyClaims: '<i class="fas fa-medkit"></i>Claims',
          sidebarBillingInvoices:
            '<i class="fas fa-file-invoice-dollar"></i>Billing & Invoices',
          sidebarReportsAnalytics:
            '<i class="fas fa-chart-pie"></i>Reports & Analytics',
          sidebarCompanyDocuments:
            '<i class="fas fa-folder"></i>Company Documents',
          sidebarApprovalWorkflows:
            '<i class="fas fa-tasks"></i>Approval Workflows',
          sidebarSMESupport: '<i class="fas fa-headset"></i>SME Support',
          dashboardTitleSME: "Business Operations Overview",
          dashboardTotalPolicies: "Total Policies",
          dashboardInsuredEmployees: "Insured Employees",
          dashboardUnpaidInvoices: "Unpaid Invoices",
          textTotalAmount: "Total",
          dashboardPendingClaims: "Pending Claims",
          chartMonthlyPremiumTitle: "Monthly Insurance Costs (Last 6 Months)",
          chartMonthlyPremiumLabel: "Insurance Cost (VND)",
          chartMonths: ["Dec", "Jan", "Feb", "Mar", "Apr", "May"],
          dashboardRecentNotices: "Recent Notices & Alerts",
          noticePolicyExpiry:
            "Policy BHTS-DN-002 will expire in 30 days. Renewal needed.",
          noticeInvoiceDue:
            "Invoice INV-2024-0012 (15,000,000 VND) is due on 25/05/2025.",
          noticeNewEmployeesAdded:
            "5 new employees have been added to group health policy BHSKN-001.",
          noticeClaimPendingApproval:
            "Claim YC-DN-005 for employee Nguyễn Thị C is pending your approval.",
          titleManageCompanyPolicies: "Manage Company Policies",
          btnFilter: "Filter",
          btnAddNewGuideline: "Add New Policy",
          tablePolicyNo: "Policy No.",
          tablePolicyType: "Type",
          tableEffectiveDate: "Effective Date",
          tableRenewalDate: "Renewal Date",
          tableAnnualFee: "Annual Fee",
          tableNoOfSubjects: "No. of Subjects",
          tableStatus: "Status",
          tableAction: "Action",
          policyTypeGroupHealth: "Group Health",
          subjects45Employees: "45 employees",
          statusActive: "Active",
          actionView: "View",
          actionDownloadPdf: "Download PDF",
          policyTypeBusinessProperty: "Business Property",
          subjects1Office: "1 Office",
          policyTypeVehicleFleet: "Vehicle Fleet",
          subjects5Trucks: "5 trucks",
          btnBulkRenew: "Bulk Renew",
          btnBulkCancel: "Bulk Cancel",
          titleManageEmployees:
            "Manage Employees (Group Health Policy BHSKN-001)",
          btnImportCsvExcel: "Import CSV/Excel",
          btnAddEmployee: "Add New Employee",
          placeholderSearchEmployee: "Search employee (Name, ID, Dept...)",
          tableEmployeeId: "Emp. ID",
          tableFullName: "Full Name",
          tableDob: "Date of Birth",
          tableDepartment: "Department",
          tableInsurancePackage: "Package",
          tableJoinDate: "Join Date",
          departmentTechnical: "Technical",
          packageGold: "Gold Package",
          statusInsured: "Insured",
          actionEdit: "Edit",
          actionDelete: "Delete",
          departmentSales: "Sales",
          btnBulkUpdate: "Bulk Update",
          titleManageCompanyClaims: "Manage Company Claims",
          btnCreateNewRequest: "Create New Request",
          tableEmployeeOptional: "Employee (If any)",
          claimTypeMedical: "Medical Treatment",
          statusPendingApproval: "Pending Approval",
          actionApprove: "Approve",
          claimTypeOfficeFire: "Office Fire/Explosion",
          statusPaidOut: "Paid Out",
          titleBillingInvoices: "Billing & Invoices",
          tableInvoiceId: "Invoice ID",
          tableBillingPeriod: "Billing Period",
          tableAmount: "Amount",
          tableDueDate: "Due Date",
          statusOverdue: "Overdue",
          btnPay: "Pay",
          actionDownloadInvoice: "Download Invoice",
          statusPaid: "Paid",
          btnBulkPay: "Bulk Pay",
          titleReportsAnalytics: "Reports & Analytics",
          labelReportType: "Report Type:",
          reportTypePremium: "Premium Expenditure",
          reportTypeClaims: "Claims History",
          reportTypeCoverage: "Coverage Analysis",
          labelReportPeriod: "Report Period:",
          reportPeriodLastMonth: "Last Month",
          reportPeriodLastQuarter: "Last Quarter",
          reportPeriodLastYear: "Last Year",
          reportPeriodCustom: "Custom",
          btnGenerateReport: "Generate Report",
          titleReportResultsSample: "Report Results (Sample)",
          descReportResultsSample:
            "Q1/2024 premium expenditure report: Total 45,000,000 VND. Details will be displayed here as a table or chart.",
          chartClaimsHistoryLabelRequests: "Number of Claims",
          chartClaimsHistoryLabelAmount: "Amount Paid (Million VND)",
          chartClaimsHistoryQuarters: [
            "Q1/2023",
            "Q2/2023",
            "Q3/2023",
            "Q4/2023",
            "Q1/2024",
          ],
          titleCompanyDocuments: "Company Documents",
          docSampleFrameworkContract: "Group Health Framework Contract.pdf",
          docSampleVersionDate1: "Version: 2.1 - Updated: 01/03/2024",
          actionDownload: "Download",
          docSamplePortalGuide: "Business Portal User Guide.docx",
          docSampleVersionDate2: "Version: 1.0 - Updated: 10/01/2024",
          titleApprovalWorkflows: "Approval Workflows",
          descApprovalWorkflows:
            "Manage requests pending your approval or requiring your action.",
          tableRequestId: "Request ID",
          tableRequestType: "Request Type",
          tableCreator: "Creator",
          tableCreationDate: "Creation Date",
          tableCurrentStatus: "Current Status",
          requestTypeChangePackage: "Change Employee Insurance Package",
          statusWaitingDeptHead: "Waiting Dept. Head Approval",
          btnViewApprove: "View & Approve",
          requestTypeAddNewEmployee: "Add New Employee to Insurance",
          statusWaitingPortalAdmin: "Waiting Portal Admin Approval",
          titleSMESupport: "SME Support",
          descSMESupport:
            "Contact our dedicated support team or find helpful guides.",
          titleSubmitSupportRequest: "Submit Support Request",
          supportTopicContract: "Policy Issues",
          supportTopicPayment: "Billing Issues",
          supportTopicPortalTech: "Portal Technical Support",
          supportTopicOther: "Other",
          placeholderSupportMessage: "Describe your issue in detail...",
          btnSendRequest: "Send Request",
          titleContactInfo: "Contact Information",
          textWorkingHours: "Working Hours:",
          titleQuickGuides: "Quick Guides",
          linkGuideEmployeeMgmt: "Employee Management Guide",
          linkGuideInvoicePayment: "Invoice Payment Guide",
          titleCompanyProfile: "Company Profile",
          labelCompanyName: "Company Name:",
          labelTaxCode: "Tax Code:",
          labelCompanyEmail: "Company Email:",
          labelCompanyPhone: "Company Phone:",
          labelCompanyRegAddress: "Registered Business Address:",
          btnSaveCompanyInfo: "Save Company Information",
          titleUserManagement: "Portal User Management",
          btnAddUser: "Add New User",
          tableRole: "Role",
          tableLastAccess: "Last Access",
          roleAdmin: "Administrator",
          actionDeactivate: "Deactivate",
          roleManager: "Manager",
          roleViewer: "Viewer",
          statusLocked: "Locked",
          actionUnlock: "Unlock",
          titlePortalSettings: "Business Portal Settings",
          titleInterfaceCustomization: "Interface Customization",
          labelPortalThemeColor: "Portal Theme Color:",
          labelUploadCompanyLogo: "Upload Company Logo (Displayed on Portal):",
          titleGeneralNotifications: "General Notification Settings",
          labelAdminEmailNotifications:
            "Send email notifications to Admin for important activities",
          btnSavePortalSettings: "Save Portal Settings",
          footerCopyright:
            "Copyright &copy; 2024 BảoHiểmPRO Insurance Company. All rights reserved.",
          // JS Alerts
          alertLogoutSuccess: "Logged out successfully (Simulation).",
          alertShowNotifications:
            "Displaying business notification list (Feature in development).",
          alertCompanyProfileUpdated:
            "Company information updated (Simulation).",
          alertPortalSettingsSaved: "Portal settings saved (Simulation).",
          alertBulkRenew:
            "Processing bulk renewal for selected policies (Feature in development).",
          alertBulkCancel:
            "Processing bulk cancellation for selected policies (Feature in development).",
          alertBulkUpdateEmployee:
            "Processing bulk update for selected employees (Feature in development).",
        },
      };
      let currentLang = "vi"; // Default language

      function setLanguage(lang) {
        currentLang = lang;
        localStorage.setItem("BaoHiemPRO_BusinessPortal_Lang", lang);
        document.documentElement.lang = lang;

        document.querySelectorAll("[data-translate-key]").forEach((el) => {
          const key = el.dataset.translateKey;
          if (translations[lang] && translations[lang][key]) {
            const translatedText = translations[lang][key];
            if (
              el.tagName === "INPUT" &&
              (el.type === "submit" || el.type === "button")
            ) {
              el.value = translatedText;
            } else if (
              (el.tagName === "SPAN" ||
                el.tagName === "P" ||
                el.tagName === "BUTTON" ||
                el.tagName === "A" ||
                el.tagName === "H2" ||
                el.tagName === "H3" ||
                el.tagName === "H4" ||
                el.tagName === "LABEL" ||
                el.tagName === "OPTION" ||
                el.tagName === "TITLE" ||
                el.tagName === "SUMMARY" ||
                el.tagName === "TH" ||
                el.tagName === "TD") &&
              (translatedText.includes("&") ||
                translatedText.includes("<i class"))
            ) {
              if (el.innerHTML.includes("<i")) {
                const iconHTML = el.querySelector("i")?.outerHTML || "";
                el.innerHTML =
                  iconHTML +
                  translatedText.replace(/<i class="[^"]+"><\/i>/, "").trim();
              } else {
                el.innerHTML = translatedText;
              }
            } else {
              el.textContent = translatedText;
            }
          }
        });
        document
          .querySelectorAll("[data-translate-placeholder-key]")
          .forEach((el) => {
            const key = el.dataset.translatePlaceholderKey;
            if (translations[lang] && translations[lang][key]) {
              el.placeholder = translations[lang][key];
            }
          });
        document.querySelectorAll("[data-translate-alt-key]").forEach((el) => {
          const key = el.dataset.translateAltKey;
          if (translations[lang] && translations[lang][key]) {
            el.alt = translations[lang][key];
          }
        });

        // Update dynamic company name in header
        const companyName = "Công Ty TNHH Phát Triển ABC"; // This would typically come from user data
        document.getElementById("headerCompanyName").textContent =
          getTranslatedText("headerCompanyNameText", lang) || companyName; // Fallback to original if key not found for some reason

        // Update chart labels if charts are initialized
        if (monthlyPremiumChartInstance) {
          monthlyPremiumChartInstance.data.datasets[0].label =
            getTranslatedText("chartMonthlyPremiumLabel", lang);
          monthlyPremiumChartInstance.data.labels =
            translations[lang].chartMonths || translations["vi"].chartMonths;
          monthlyPremiumChartInstance.update();
        }
        if (claimsHistoryChartInstance) {
          claimsHistoryChartInstance.data.datasets[0].label = getTranslatedText(
            "chartClaimsHistoryLabelRequests",
            lang
          );
          claimsHistoryChartInstance.data.datasets[1].label = getTranslatedText(
            "chartClaimsHistoryLabelAmount",
            lang
          );
          claimsHistoryChartInstance.data.labels =
            translations[lang].chartClaimsHistoryQuarters ||
            translations["vi"].chartClaimsHistoryQuarters;
          claimsHistoryChartInstance.update();
        }

        document.querySelectorAll(".lang-switcher-btn").forEach((btn) => {
          btn.classList.toggle("active-lang", btn.dataset.lang === lang);
        });
      }

      function getTranslatedText(key, langToUse = currentLang) {
        return translations[langToUse] && translations[langToUse][key]
          ? translations[langToUse][key]
          : key;
      }

      const sidebarLinks = document.querySelectorAll(".sidebar-link");
      const contentSections = document.querySelectorAll(".content-section");
      const userMenuButton = document.getElementById("userMenuButton");
      const userMenuDropdown = document.getElementById("userMenuDropdown");
      const sidebarNavTriggers = document.querySelectorAll(
        ".sidebar-nav-trigger"
      );

      function setActiveSection(targetId) {
        sidebarLinks.forEach((link) => {
          link.classList.toggle("active", link.dataset.target === targetId);
        });
        contentSections.forEach((section) => {
          section.classList.toggle("active", section.id === targetId);
        });
        window.scrollTo(0, 0);
      }

      sidebarLinks.forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          const targetId = link.dataset.target;
          setActiveSection(targetId);
          window.location.hash = targetId;
          if (userMenuDropdown.contains(link)) {
            userMenuDropdown.classList.add("hidden");
          }
        });
      });

      sidebarNavTriggers.forEach((button) => {
        button.addEventListener("click", (e) => {
          e.preventDefault();
          const targetId = button.dataset.target;
          setActiveSection(targetId);
          window.location.hash = targetId;
        });
      });

      userMenuButton.addEventListener("click", () => {
        userMenuDropdown.classList.toggle("hidden");
      });

      document.addEventListener("click", (event) => {
        if (
          !userMenuButton.contains(event.target) &&
          !userMenuDropdown.contains(event.target)
        ) {
          userMenuDropdown.classList.add("hidden");
        }
      });

      function handleHashChange() {
        const hash = window.location.hash.substring(1);
        const savedLang =
          localStorage.getItem("BaoHiemPRO_BusinessPortal_Lang") || "vi";
        if (!currentLang || currentLang !== savedLang) {
          // Apply language first if not set or changed
          setLanguage(savedLang);
        }

        if (hash) {
          const targetSection = document.getElementById(hash);
          if (
            targetSection &&
            targetSection.classList.contains("content-section")
          ) {
            setActiveSection(hash);
          } else {
            setActiveSection("dashboardSME");
          }
        } else {
          setActiveSection("dashboardSME");
        }
      }

      // Language switcher functionality
      document.querySelectorAll(".lang-switcher-btn").forEach((button) => {
        button.addEventListener("click", (e) => {
          setLanguage(e.target.dataset.lang);
        });
      });

      // Initial language load
      document.addEventListener("DOMContentLoaded", () => {
        handleHashChange(); // Call on initial load
      });
      window.addEventListener("hashchange", handleHashChange);

      let monthlyPremiumChartInstance;
      let claimsHistoryChartInstance;

      const monthlyPremiumCtx = document
        .getElementById("monthlyPremiumChart")
        ?.getContext("2d");
      if (monthlyPremiumCtx) {
        monthlyPremiumChartInstance = new Chart(monthlyPremiumCtx, {
          // Store instance
          type: "line",
          data: {
            labels:
              translations[currentLang].chartMonths ||
              translations["vi"].chartMonths,
            datasets: [
              {
                label: getTranslatedText("chartMonthlyPremiumLabel"),
                data: [
                  150000000, 155000000, 160000000, 158000000, 162000000,
                  165000000,
                ],
                borderColor: "#059669",
                backgroundColor: "rgba(5, 150, 105, 0.1)",
                tension: 0.3,
                fill: true,
              },
            ],
          },
          options: {
            /* ... options from previous version ... */
          },
        });
      }

      const claimsHistoryCtx = document
        .getElementById("claimsHistoryChart")
        ?.getContext("2d");
      if (claimsHistoryCtx) {
        claimsHistoryChartInstance = new Chart(claimsHistoryCtx, {
          // Store instance
          type: "bar",
          data: {
            labels:
              translations[currentLang].chartClaimsHistoryQuarters ||
              translations["vi"].chartClaimsHistoryQuarters,
            datasets: [
              {
                label: getTranslatedText("chartClaimsHistoryLabelRequests"),
                data: [5, 8, 6, 10, 7],
                backgroundColor: "#3b82f6",
              },
              {
                label: getTranslatedText("chartClaimsHistoryLabelAmount"),
                data: [25, 40, 30, 55, 35],
                backgroundColor: "#ef4444",
              },
            ],
          },
          options: {
            /* ... options from previous version ... */
          },
        });
      }

      document
        .getElementById("logoutButton")
        ?.addEventListener("click", (e) => {
          e.preventDefault();
          alert(getTranslatedText("alertLogoutSuccess"));
          window.location.href = "index.html";
        });
      document
        .getElementById("notificationsBtn")
        ?.addEventListener("click", () => {
          alert(getTranslatedText("alertShowNotifications"));
          document
            .querySelector("#notificationsBtn .notification-dot")
            ?.classList.add("hidden");
        });
      document
        .getElementById("companyProfileForm")
        ?.addEventListener("submit", (e) => {
          e.preventDefault();
          alert(getTranslatedText("alertCompanyProfileUpdated"));
        });
      document
        .getElementById("portalSettingsForm")
        ?.addEventListener("submit", (e) => {
          e.preventDefault();
          alert(getTranslatedText("alertPortalSettingsSaved"));
        });
      document
        .getElementById("bulkRenewBtn")
        ?.addEventListener("click", () =>
          alert(getTranslatedText("alertBulkRenew"))
        );
      document
        .getElementById("bulkCancelBtn")
        ?.addEventListener("click", () =>
          alert(getTranslatedText("alertBulkCancel"))
        );
      document
        .getElementById("bulkUpdateEmployeeBtn")
        ?.addEventListener("click", () =>
          alert(getTranslatedText("alertBulkUpdateEmployee"))
        );
    </script>
  </body>
</html>
